{% extends 'base.html' %}
{% load static %}

<!-- Head tags -->
{% block meta_description %}not default{% endblock %}

{% block og_title %}Shop for Amelia Mae Skincare{% endblock %}
{% block og_description %}Explore our wide range of high-quality skincare products designed to rejuvenate and nourish your skin. Find the perfect solution for your skincare needs today!{% endblock %}
{% block og_image %}not default{% endblock %}
{% block og_url %}not default{% endblock %}

{% block extra_css %}
{% endblock %}

{% block extra_title %}Shop all skincare products{% endblock %}
<!-- end Head tags -->

{% block page_header %}
<div class="header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="container-fluid mimi-pink">
    <div class="row py-3">
        <div class="col text-center mimi-pink">
            <h2 class="logo-font mt-3 h-100">Shop Amelia Mae Products</h2>
        </div>
    </div>
    <div class="col-xl-9 px-0 mimi-pink container-fluid justify-content-center">
        <div class="row py-3 mimi-pink">
            {% for product in products %}
                <div class="col-md-6 col-lg-3 my-3 card-rounded">
                    <div class="shadow white-smoke card-rounded">
                        {% if product.is_best_seller %}
                        <span class="position-absolute-best-seller rounded">BEST SELLER <i class="fa-solid fa-award"></i></span>
                        {% endif %}
                        <div class="card border-0 card-rounded white-smoke p-1">
                            <img
                                src="{% if product.image.url %}{{ product.image.url }}{% else %}../media/no_image.png{% endif %}"
                                class="card-img-top product-card-image card-rounded mb-4"
                                alt="{% if product.name %}{{ product.name }}{% else %}Amelia Mae luxury product{% endif %}"
                                >
                            {% if product.is_out_of_stock %}
                            <span class="out-of-stock-overlay card-rounded text-center">
                                <i class="fa-solid fa-ban fa-flip-horizontal"></i>
                                <p class="out-of-stock-text">Currently Out Of Stock</p>
                            </span>
                            {% endif %}
                            <div class="card-body border-0 mb-0 white-smoke">
                                <h5 class="card-title card-title-min-height-spacer mb-3">{{ product.name|truncatechars:50 }}</h5>
                                <span class="product_card_price">Â£ {{ product.price }}</span>
                                <a href="#" class="btn card-rounded shadow btn-outline-secondary d-flex justify-content-center stretched-link mt-3">View Product</a>
                            </div>
                        </div>
                        <span class="position-absolute-rating">
                            <i class="fa-sharp fa-solid fa-star {% if product.rating >= 1 %}gold{% else %}silver{% endif %}"></i>
                            <i class="fa-sharp fa-solid fa-star {% if product.rating >= 1.5 %}gold{% else %}silver{% endif %}"></i>
                            <i class="fa-sharp fa-solid fa-star {% if product.rating >= 2.5 %}gold{% else %}silver{% endif %}"></i>
                            <i class="fa-sharp fa-solid fa-star {% if product.rating >= 3.5 %}gold{% else %}silver{% endif %}"></i>
                            <i class="fa-sharp fa-solid fa-star {% if product.rating >= 4.5 %}gold{% else %}silver{% endif %}"></i>
                        </span>
                        <span class="position-absolute-favourite">
                            <!-- need to add the favourite model/field and logic here -->
                            <!-- <i class="fa-solid fa-heart"></i> -->
                            <i class="fa-regular fa-heart"></i>
                        </span>
                        {% if product.is_discontinued and not product.is_out_of_stock %}
                        <span class="ribbon ribbon-left px-5 shadow">Discontinued!<br>Only <strong>{{ product.quantity }}</strong> left</span>
                        {% elif product.quantity >= 1 and product.quantity <= 25 %}
                        <span class="ribbon ribbon-left px-5">Hurry!<br>Only <strong>{{ product.quantity }}</strong> left</span>
                        {% endif %}
                        <div class="card-footer white-smoke py-4 border-top-0 card-rounded">
                            <a href="#" class="btn shadow btn-dark d-flex justify-content-center card-rounded">Quick add</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

{% include 'home/includes/index_articles_section.html' %}

{% endblock %}

{% block postloadjs %}
{% endblock %}